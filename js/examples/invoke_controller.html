
<script>
  class ClipboardController extends Controller {
      static targets = [ "source" ]

      copy({params: { content }}) {
          this.dispatch("copy", { detail: { content: this.sourceTarget.value, a: "aaa", b: "bb"} })
          navigator.clipboard.writeText(this.sourceTarget.value)
      }

      //clipboard:copy
  }
</script>

<div data-controller="clipboard effects" data-action="clipboard:copy->effects#flash">
  PIN: <input data-clipboard-target="source" type="text" value="1234" readonly>
  <button data-action="click->clipboard#copy">Copy to Clipboard</button>
</div>


<script>
  class EffectsController extends Controller {
    flash({ detail: { content, a } }) {
      console.log(content) // 1234
    }
}
</script>



